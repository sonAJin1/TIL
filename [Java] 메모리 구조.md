Java 메모리 구조
=

자바에서 소스를 작성하면 .java 파일이 생성된다. 이 소스를 자바컴파일러가 컴파일 하면 .class 파일(바이트코드)가 생성된다. 이렇게 클래스 파일들을 엮어서 JVM이 운영체제로부터 할당받은 메모리 영역인 Runtime Data Area로 적제하는 역할을 Class Loader 가 한다. (자바 애플리케이션이 실행 중일 때 진행되는 과정)  메모리는 한정되어 있기 때문에 이를 어떻게 관리하느냐에 따라 프로그램의 성능, 속도를 좌우한다. 따라서 메모리를 효율적으로 사용하기 위해서는 메모리의 구성과 특징에 대해서 파악할 필요가 있다. 메모리는 크게 **Static 영역, Stack 영역, Heap 영역**으로 분리된다.

Static 영역
=
하나의 Java 파일은 Field, Constructor, Method 로 구성된다. 그중 **전역변수(필드 부분에서 선언된 변수)와, Static 이 붙은 자료형(정적 멤버 변수)을 Static 데이터 영역에 저장한다.** Static 영역의 데이터는 **프로그램의 시작부터 종료가 될 때까지 메모리에 남아있게 된다.** 따라서 전역변수를 무분별하게 사용하다 보면 메모리가 부족할 우려가 있어 필요한 변수만 사용할 필요가 있다.

Stack 영역
=
메소드 내에서 정의하는 기본 자료형 (int, double, byte, long, boolean)에 해당되는 **지역변수의 데이터가 저장되는 영역이 Stack 영역이다.** **메소드가 호출될 때 메모리에 할당되고 종료되면 메모리가 해제된다.**

Heap 영역
=
참조형의 데이터 타입을 갖는 객체(인스턴스), 배열 등은 Heap영역에 데이터가 저장된다. 이때 변수는 stack 영역의 공간에서 실제 데이터가 저장된 heap 영역의 참조값을 new 연산자를 통하여 리턴 받는다. 즉, 실제 데이터를 가지고 있는 heap 영역의 참조값을 stack 영역의 객체가 갖고 있다.

참고로 heap에 저장된 데이터가 더 이상 사용이 불필요 하다면 메모리 관리를 위해 JVM에 의해서 알아서 해제된다.



<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEyODE0OTM0MTNdfQ==
-->